<div class="container mt-4">
  <h3>Users</h3>

  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (user of displayedUsers; track user.id) {
      <tr>
        <td>{{ user.firstName + " " + user.lastName }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.roles[0] }}</td>
        <td>
          <button class="btn btn-sm btn-primary" (click)="Promotion(user.id)">
            Promote to Admin
          </button>
        </td>
      </tr>
      }
    </tbody>
  </table>
  <nav>
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="prevPage()">Previous</button>
      </li>

      @for (page of totalPagesArray; track page) {
      <li class="page-item" [class.active]="currentPage === page">
        <button class="page-link" (click)="goToPage(page)">{{ page }}</button>
      </li>
      }

      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="nextPage()">Next</button>
      </li>
    </ul>
  </nav>
</div>
