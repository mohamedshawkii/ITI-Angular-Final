<!-- Modern Users Management Component -->
<div class="users-container">
  <!-- Users Header -->
  <div class="users-header">
    <div class="header-content">
      <h1>Users Management</h1>
      <p>Manage user accounts and permissions</p>
    </div>
    <button class="btn btn-primary add-user-btn">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C13.6783 15.4214 12.0609 15 10.5 15H5.5C3.93913 15 2.32172 15.4214 1.17157 16.1716C0.421427 16.9217 0 17.9391 0 19V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        <circle cx="8" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
        <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
        <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
      </svg>
      Add User
    </button>
  </div>

  <!-- Search and Filter Bar -->
  <div class="users-controls">
    <div class="search-container">
      <input 
        type="text" 
        class="search-input" 
        placeholder="Search users by name or email..."
        
      />
      <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
        <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2"/>
      </svg>
    </div>
    
    <button class="filter-btn">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <polygon points="22,3 2,3 10,12.46 10,19 14,21 14,12.46 22,3" stroke="currentColor" stroke-width="2" fill="none"/>
      </svg>
      Filter
    </button>
  </div>

  <!-- Users Table Card -->
  <div class="users-table-card">
    <div class="table-header">
      <h3>All Users ({{ displayedUsers?.length || 5 }})</h3>
      <p>A list of all users in the system with their roles and status</p>
    </div>

    <div class="table-container">
      <table class="modern-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th>Join Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (user of displayedUsers; track user.id) {
          <tr class="table-row">
            <td>
              <div class="user-info">
                <div class="user-avatar">
                  {{ (user.firstName?.charAt(0) || 'J') + (user.lastName?.charAt(0) || 'D') }}
                </div>
                <div class="user-details">
                  <span class="user-name">{{ user.firstName + " " + user.lastName }}</span>
                </div>
              </div>
            </td>
            <td class="user-email">{{ user.email }}</td>
            <td>
              <span class="role-badge" >
                {{ user.roles[0] }}
              </span>
            </td>
            <td>
              <span class="status-badge active">Active</span>
            </td>
            <td class="join-date">{{ user.id }}</td>
            <td>
              <div class="action-buttons">
                <button 
                  class="btn btn-sm btn-primary promote-btn" 
                  (click)="Promotion(user.id)"
                  [disabled]="user.roles[0] === 'Admin'"
                >
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C13.6783 15.4214 12.0609 15 10.5 15H5.5C3.93913 15 2.32172 15.4214 1.17157 16.1716C0.421427 16.9217 0 17.9391 0 19V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    <circle cx="8" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                    <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                    <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  Promote to Admin
                </button>
                <button class="btn btn-sm btn-outline more-btn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    <circle cx="19" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    <circle cx="5" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </button>
              </div>
            </td>
          </tr>
          }
          
          <!-- Default rows if no data -->
          @if (!displayedUsers || displayedUsers.length === 0) {
            <tr class="table-row">
              <td>
                <div class="user-info">
                  <div class="user-avatar">JD</div>
                  <div class="user-details">
                    <span class="user-name">John Doe</span>
                  </div>
                </div>
              </td>
              <td class="user-email">john.doeexample.com</td>
              <td><span class="role-badge user-role">User</span></td>
              <td><span class="status-badge active">Active</span></td>
              <td class="join-date">2024-01-15</td>
              <td>
                <div class="action-buttons">
                  <button class="btn btn-sm btn-primary promote-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C13.6783 15.4214 12.0609 15 10.5 15H5.5C3.93913 15 2.32172 15.4214 1.17157 16.1716C0.421427 16.9217 0 17.9391 0 19V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                      <circle cx="8" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                      <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                      <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Promote to Admin
                  </button>
                  <button class="btn btn-sm btn-outline more-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="19" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="5" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </button>
                </div>
              </td>
            </tr>
            
            <tr class="table-row">
              <td>
                <div class="user-info">
                  <div class="user-avatar">JS</div>
                  <div class="user-details">
                    <span class="user-name">Jane Smith</span>
                  </div>
                </div>
              </td>
              <td class="user-email">jane.smithexample.com</td>
              <td><span class="role-badge admin-role">Admin</span></td>
              <td><span class="status-badge active">Active</span></td>
              <td class="join-date">2024-01-10</td>
              <td>
                <div class="action-buttons">
                  <button class="btn btn-sm btn-primary promote-btn" disabled>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C13.6783 15.4214 12.0609 15 10.5 15H5.5C3.93913 15 2.32172 15.4214 1.17157 16.1716C0.421427 16.9217 0 17.9391 0 19V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                      <circle cx="8" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                      <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                      <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Promote to Admin
                  </button>
                  <button class="btn btn-sm btn-outline more-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="19" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="5" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </button>
                </div>
              </td>
            </tr>
            
            <tr class="table-row">
              <td>
                <div class="user-info">
                  <div class="user-avatar">MJ</div>
                  <div class="user-details">
                    <span class="user-name">Mike Johnson</span>
                  </div>
                </div>
              </td>
              <td class="user-email">mike.johnsonexample.com</td>
              <td><span class="role-badge user-role">User</span></td>
              <td><span class="status-badge inactive">Inactive</span></td>
              <td class="join-date">2024-01-20</td>
              <td>
                <div class="action-buttons">
                  <button class="btn btn-sm btn-primary promote-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C13.6783 15.4214 12.0609 15 10.5 15H5.5C3.93913 15 2.32172 15.4214 1.17157 16.1716C0.421427 16.9217 0 17.9391 0 19V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                      <circle cx="8" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                      <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                      <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Promote to Admin
                  </button>
                  <button class="btn btn-sm btn-outline more-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="19" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="5" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </button>
                </div>
              </td>
            </tr>
            
            <tr class="table-row">
              <td>
                <div class="user-info">
                  <div class="user-avatar">SW</div>
                  <div class="user-details">
                    <span class="user-name">Sarah Wilson</span>
                  </div>
                </div>
              </td>
              <td class="user-email">sarah.wilsonexample.com</td>
              <td><span class="role-badge user-role">User</span></td>
              <td><span class="status-badge active">Active</span></td>
              <td class="join-date">2024-01-25</td>
              <td>
                <div class="action-buttons">
                  <button class="btn btn-sm btn-primary promote-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C13.6783 15.4214 12.0609 15 10.5 15H5.5C3.93913 15 2.32172 15.4214 1.17157 16.1716C0.421427 16.9217 0 17.9391 0 19V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                      <circle cx="8" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                      <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                      <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Promote to Admin
                  </button>
                  <button class="btn btn-sm btn-outline more-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="19" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="5" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </button>
                </div>
              </td>
            </tr>
            
            <tr class="table-row">
              <td>
                <div class="user-info">
                  <div class="user-avatar">DB</div>
                  <div class="user-details">
                    <span class="user-name">David Brown</span>
                  </div>
                </div>
              </td>
              <td class="user-email">david.brownexample.com</td>
              <td><span class="role-badge user-role">User</span></td>
              <td><span class="status-badge active">Active</span></td>
              <td class="join-date">2024-02-01</td>
              <td>
                <div class="action-buttons">
                  <button class="btn btn-sm btn-primary promote-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C13.6783 15.4214 12.0609 15 10.5 15H5.5C3.93913 15 2.32172 15.4214 1.17157 16.1716C0.421427 16.9217 0 17.9391 0 19V21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                      <circle cx="8" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                      <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                      <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Promote to Admin
                  </button>
                  <button class="btn btn-sm btn-outline more-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="19" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                      <circle cx="5" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </button>
                </div>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
    <div class="pagination-container">
      <nav class="pagination-nav">
        <ul class="pagination">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <button class="page-link" (click)="prevPage()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <polyline points="15,18 9,12 15,6" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
              Previous
            </button>
          </li>

          @for (page of totalPagesArray; track page) {
          <li class="page-item" [class.active]="currentPage === page">
            <button class="page-link" (click)="goToPage(page)">{{ page }}</button>
          </li>
          }

          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <button class="page-link" (click)="nextPage()">
              Next
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <polyline points="9,18 15,12 9,6" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>
