<!-- Updated header.html with role-based rendering -->
<header class="header">
  <div class="container">
    <div class="header-content">
      <div class="logo">
        <a routerLink="/home" class="logo-link">
          <h1 class="logo-text">Betna</h1>
          <span class="logo-tagline">Home Brands Marketplace</span>
        </a>
      </div>
      <!-- this is the Roles Names from Backend it Must be Identical with "Customer", "ADMIN", "DeliveryBoy", "BrandOwner" -->
      <nav class="nav-desktop">
        <ul class="nav-list">
          <li
            class="nav-item"
            *ngIf="hasAnyRole(['BrandOwner', 'Customer'], userRole)"
          >
            <a routerLink="/home" routerLinkActive="active" class="nav-link"
              >Home</a
            >
          </li>

          <li
            class="nav-item"
            *ngIf="hasAnyRole(['Customer', 'BrandOwner'], userRole)"
          >
            <a routerLink="/brands" routerLinkActive="active" class="nav-link"
              >Brands</a
            >
          </li>

          <li class="nav-item" *ngIf="hasAnyRole(['ADMIN'], userRole)">
            <a routerLink="/admin" routerLinkActive="active" class="nav-link"
              >Admin</a
            >
          </li>

          <li class="nav-item" *ngIf="hasAnyRole(['DeliveryBoy'], userRole)">
            <a routerLink="/delivery" routerLinkActive="active" class="nav-link"
              >Delivery</a
            >
          </li>

          <li
            class="nav-item"
            *ngIf="hasAnyRole(['Customer', 'BrandOwner'], userRole)"
          >
            <a routerLink="/bazaar" routerLinkActive="active" class="nav-link"
              >Bazaar</a
            >
          </li>
          <li class="nav-item" *ngIf="hasAnyRole(['Customer'], userRole)">
            <a
              routerLink="/customerDashboard"
              routerLinkActive="active"
              class="nav-link"
            >
              Orders
            </a>
          </li>
          <li class="nav-item" *ngIf="hasAnyRole(['BrandOwner'], userRole)">
            <a
              routerLink="/brandDashboard"
              routerLinkActive="active"
              class="nav-link"
              >Orders</a
            >
          </li>
        </ul>
      </nav>

      <div class="user-actions">
        @if(hasAnyRole(['Customer', 'BrandOwner'], this.userRole)){
        <a routerLink="/cart" class="cart-link">
          <span class="cart-icon">ðŸ›’</span>
          <span class="cart-count">{{ itemCount }}</span>
        </a>
        }
        <ng-container *ngIf="!isLoggedIn">
          <a routerLink="/login" class="btn btn-outline">Login</a>
          <a routerLink="/register" class="btn btn-primary">Sign Up</a>
        </ng-container>

        <ng-container *ngIf="isLoggedIn">
          <button class="btn btn-danger" (click)="logOut()">Logout</button>
        </ng-container>
      </div>

      <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </div>

    <nav class="nav-mobile" [class.active]="isMobileMenuOpen">
      <ul class="nav-list-mobile">
        <li
          class="nav-item-mobile"
          *ngIf="hasAnyRole(['BrandOwner', 'Customer'], userRole)"
        >
          <a
            routerLink="/home"
            routerLinkActive="active"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Home</a
          >
        </li>
        <li
          class="nav-item-mobile"
          *ngIf="hasAnyRole(['Customer', 'BrandOwner'], userRole)"
        >
          <a
            routerLink="/brands"
            routerLinkActive="active"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Brands</a
          >
        </li>
        <li
          class="nav-item-mobile"
          *ngIf="hasAnyRole(['Customer', 'BrandOwner'], userRole)"
        >
          <a
            routerLink="/bazaar"
            routerLinkActive="active"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Bazaar</a
          >
        </li>
        <li
          class="nav-item-mobile"
          *ngIf="hasAnyRole(['DeliveryBoy'], userRole)"
        >
          <a
            routerLink="/delivery"
            routerLinkActive="active"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Delivery</a
          >
        </li>
        <li class="nav-item-mobile" *ngIf="hasAnyRole(['ADMIN'], userRole)">
          <a
            routerLink="/admin"
            routerLinkActive="active"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Admin</a
          >
        </li>
        <li
          class="nav-item-mobile"
          *ngIf="hasAnyRole(['Customer', 'BrandOwner'], userRole)"
        >
          <a
            routerLink="/cart"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Cart</a
          >
        </li>
        <li class="nav-item" *ngIf="hasAnyRole(['Customer'], userRole)">
          <a
            routerLink="/customerDashboard"
            routerLinkActive="active"
            class="nav-link"
            >Orders</a
          >
        </li>
        <li class="nav-item" *ngIf="hasAnyRole(['BrandOwner'], userRole)">
          <a
            routerLink="/brandDashboard"
            routerLinkActive="active"
            class="nav-link"
            >Orders</a
          >
        </li>
        <li class="nav-item-mobile" *ngIf="!isLoggedIn">
          <a
            routerLink="/login"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Login</a
          >
        </li>
        <li class="nav-item-mobile" *ngIf="!isLoggedIn">
          <a
            routerLink="/register"
            class="nav-link-mobile"
            (click)="closeMobileMenu()"
            >Sign Up</a
          >
        </li>
        <li class="nav-item-mobile" *ngIf="isLoggedIn">
          <a
            href="#"
            class="nav-link-mobile"
            (click)="logOut(); closeMobileMenu()"
            >Logout</a
          >
        </li>
      </ul>
    </nav>
  </div>
</header>
